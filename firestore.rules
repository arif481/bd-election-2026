rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Public read for election data, temporary write for admin client
    // NOTE: For production, restrict writes using Firebase Auth
    match /{document=**} {
      allow read: if true;
      // WARNING: Writes are currently public to allow the admin panel to function without Firebase Auth.
      // The admin panel uses a client-side password check (VITE_ADMIN_HASH).
      // FOR PRODUCTION: You MUST implement Firebase Auth and change this to:
      // allow write: if request.auth != null;
      allow write: if true;
    }
  }
}
